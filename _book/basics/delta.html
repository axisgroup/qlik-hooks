
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Delta Mode Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="shortcut-operators.html" />
    
    
    <link rel="prev" href="notifications.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Qlik Hooks v0.1.0
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    Introduction
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../introduction/why-rx.html">
            
                <a href="../introduction/why-rx.html">
            
                    
                    Why Rx?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../introduction/rxq-vs-enigma.html">
            
                <a href="../introduction/rxq-vs-enigma.html">
            
                    
                    RxQ vs. Enigma
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../introduction/core-concepts.html">
            
                <a href="../introduction/core-concepts.html">
            
                    
                    Core Concepts
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Basics
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="connecting.html">
            
                <a href="connecting.html">
            
                    
                    Connecting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="making-api-calls.html">
            
                <a href="making-api-calls.html">
            
                    
                    Making API Calls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="reusing-handles.html">
            
                <a href="reusing-handles.html">
            
                    
                    Reusing Handles
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="handle-invalidations.html">
            
                <a href="handle-invalidations.html">
            
                    
                    Handle Invalidations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="suspending-invalidations.html">
            
                <a href="suspending-invalidations.html">
            
                    
                    Suspending Invalidations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="closing-a-session.html">
            
                <a href="closing-a-session.html">
            
                    
                    Closing a Session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="notifications.html">
            
                <a href="notifications.html">
            
                    
                    Notifications
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.8" data-path="delta.html">
            
                <a href="delta.html">
            
                    
                    Delta Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="shortcut-operators.html">
            
                <a href="shortcut-operators.html">
            
                    
                    Shortcut Operators
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Recipes
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../recipes/connect.html">
            
                <a href="../recipes/connect.html">
            
                    
                    01. Connect to an Engine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../recipes/engine-version.html">
            
                <a href="../recipes/engine-version.html">
            
                    
                    02. Get the Engine Version
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../recipes/multiple-global-calls.html">
            
                <a href="../recipes/multiple-global-calls.html">
            
                    
                    03. Make Multiple Global Calls
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../recipes/open-an-app.html">
            
                <a href="../recipes/open-an-app.html">
            
                    
                    04. Open an App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../recipes/read-app-props.html">
            
                <a href="../recipes/read-app-props.html">
            
                    
                    05. Get App Properties
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../recipes/set-app-props.html">
            
                <a href="../recipes/set-app-props.html">
            
                    
                    06. Set App Properties and Listen for Changes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../recipes/gen-obj-value.html">
            
                <a href="../recipes/gen-obj-value.html">
            
                    
                    07. Calculate a Value with a GenericObject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../recipes/current-selections.html">
            
                <a href="../recipes/current-selections.html">
            
                    
                    08. Get a stream of Current Selections
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../recipes/make-a-selection.html">
            
                <a href="../recipes/make-a-selection.html">
            
                    
                    09. Make a Selection in a Field
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../recipes/loop-selections.html">
            
                <a href="../recipes/loop-selections.html">
            
                    
                    10. Loop through Selections in a Field
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="../recipes/make-lb-selections.html">
            
                <a href="../recipes/make-lb-selections.html">
            
                    
                    11. Make Selections in a Listbox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12" data-path="../recipes/search-lb.html">
            
                <a href="../recipes/search-lb.html">
            
                    
                    12. Search in a Listbox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.13" data-path="../recipes/apply-patches.html">
            
                <a href="../recipes/apply-patches.html">
            
                    
                    13. Apply Patches to an Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.14" data-path="../recipes/get-data-page-on-invalid.html">
            
                <a href="../recipes/get-data-page-on-invalid.html">
            
                    
                    14. Get a page of data in a HyperCube on invalidation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.15" data-path="../recipes/get-pages-in-parallel.html">
            
                <a href="../recipes/get-pages-in-parallel.html">
            
                    
                    15. Get pages of data in parallel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.16" data-path="../recipes/get-pages-in-sequence.html">
            
                <a href="../recipes/get-pages-in-sequence.html">
            
                    
                    16. Get pages of data sequentially
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.17" data-path="../recipes/make-selections-on-app-open.html">
            
                <a href="../recipes/make-selections-on-app-open.html">
            
                    
                    17. Make selections on app open
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.18" data-path="../recipes/calc-time.html">
            
                <a href="../recipes/calc-time.html">
            
                    
                    18. Calculate the duration of an API call and response
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.19" data-path="../recipes/batch-invalidations.html">
            
                <a href="../recipes/batch-invalidations.html">
            
                    
                    19. Batch Invalidations with Suspend
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.20" data-path="../recipes/toggle-sessions.html">
            
                <a href="../recipes/toggle-sessions.html">
            
                    
                    20. Toggle Calculations Between Multiple Apps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.21" data-path="../recipes/offline.html">
            
                <a href="../recipes/offline.html">
            
                    
                    21. Auto-reconnect Generic Objects after a network drop
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.22" data-path="../recipes/shortcut-operators.html">
            
                <a href="../recipes/shortcut-operators.html">
            
                    
                    22. Using shortcut operators to get a layout stream
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Delta Mode</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="delta-mode">Delta Mode</h1>
<h2 id="what-is-delta-mode">What is Delta Mode</h2>
<p>Qlik&apos;s Engine API has the ability to provide responses in what is known as &quot;delta mode&quot;. In delta mode, rather than sending the entire API response back for a call, the Engine will send a list of changes to apply from a previous API call instead. For example, imagine you have received the layout of an app from the Engine in a JSON structure that includes properties like <code>lastReloadTime</code>:</p>
<pre><code class="lang-json">{
  qId: <span class="hljs-string">&quot;app-id&quot;</span>,
  title: <span class="hljs-string">&quot;My App&quot;</span>,
  <span class="hljs-comment">// ...other props</span>
  lastReloadTime: <span class="hljs-string">&quot;date&quot;</span>
}
</code></pre>
<p>Now imagine the app is reloaded. This app layout is no longer valid, so you make an API request for another layout. Normally, you would receive the entire object back again, which would included an updated reload time:</p>
<pre><code class="lang-json">{
  qId: <span class="hljs-string">&quot;app-id&quot;</span>,
  title: <span class="hljs-string">&quot;My App&quot;</span>,
  <span class="hljs-comment">//...other props</span>
  lastReloadTime: <span class="hljs-string">&quot;new date&quot;</span>
}
</code></pre>
<p>In this scenario, only one property actually changes from the first layout call to the second: <code>lastReloadTime</code>. Therefore, it&apos;s redundant to send all of the other info again. Enter delta mode.</p>
<p>In delta mode, the Engine only sends instructions back on how to update the previously seen value. In this case, it would send a message indicating that the &quot;lastReloadTime&quot; property has been updated, along with its new value. These instructions are similar to the JSON-Patch specification.</p>
<p>The benefit of using delta mode is that less information will be sent over the network as an app is used, leading to faster API calls. On the other hand, delta mode requires more work on the client to process the changes and keep track of previous values. Realistically, this is a trade-off you will probably not notice in your typical application built with the Engine.</p>
<h2 id="usage-in-rxq">Usage in RxQ</h2>
<p>By default, delta mode is not used in RxQ. The library provides two mechanisms for opting into delta mode:</p>
<ol>
<li><p><strong>Session-level</strong>: Delta mode can be enabled across the session for every API call. This is done by setting the session config <code>delta</code> property to true:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> session = connectSession({
 host: <span class="hljs-string">&quot;localhost&quot;</span>,
 port: <span class="hljs-number">9076</span>,
 delta: <span class="hljs-literal">true</span>
})
</code></pre>
</li>
<li><p><strong>Method-level</strong>: Rather than opting the entire session into delta mode, you can also selectively pick which methods that you want to leverage delta mode by providing an object with the Qlik class as a key and the method names that should use delta mode. For example, to enable delta mode for GenericObject <code>GetLayout</code> and <code>GetProperties</code> calls, you could configure your session like so:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> session = connectSession({
 host: <span class="hljs-string">&quot;localhost&quot;</span>,
 port: <span class="hljs-number">9076</span>,
 delta: {
   GenericObject: [<span class="hljs-string">&quot;GetLayout&quot;</span>, <span class="hljs-string">&quot;GetProperties&quot;</span>]
 }
})
</code></pre>
</li>
</ol>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="notifications.html" class="navigation navigation-prev " aria-label="Previous page: Notifications">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="shortcut-operators.html" class="navigation navigation-next " aria-label="Next page: Shortcut Operators">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Delta Mode","level":"1.3.8","depth":2,"next":{"title":"Shortcut Operators","level":"1.3.9","depth":2,"path":"basics/shortcut-operators.md","ref":"basics/shortcut-operators.md","articles":[]},"previous":{"title":"Notifications","level":"1.3.7","depth":2,"path":"basics/notifications.md","ref":"basics/notifications.md","articles":[]},"dir":"ltr"},"config":{"plugins":["livereload"],"root":"./docs","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"basics/delta.md","mtime":"2020-01-28T23:28:34.003Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-01-28T23:32:55.448Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

